<!doctype html>
<html lang="en" data-theme="light">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Crypto Converter</title>
    <link rel="stylesheet" href="/styles.css" />
  </head>
  <body>
    <div class="noise"></div>
    <header class="topbar">
      <div>
        <p class="eyebrow">Realtime Conversion</p>
        <h1>Crypto Converter</h1>
        <p class="sub">Convert between cryptocurrencies with live CoinGecko pricing.</p>
      </div>
      <button id="themeToggle" class="ghost" aria-label="Toggle dark mode">Toggle Theme</button>
    </header>

    <main class="layout">
      <section class="card converter">
        <div class="toolbar">
          <div class="badge">Live Prices</div>
          <div id="lastUpdated" class="muted">Last updated: --</div>
        </div>

        <div class="field">
          <label for="fromInput">From</label>
          <div class="combo" data-combo="from">
            <input id="fromInput" type="text" autocomplete="off" placeholder="Search coin" role="combobox" aria-expanded="false" aria-controls="fromList" />
            <button class="combo-toggle" type="button" aria-label="Toggle From list">?</button>
            <ul id="fromList" class="combo-list" role="listbox"></ul>
          </div>
        </div>

        <div class="swap-row">
          <button id="swapBtn" class="ghost" type="button">Swap</button>
        </div>

        <div class="field">
          <label for="toInput">To</label>
          <div class="combo" data-combo="to">
            <input id="toInput" type="text" autocomplete="off" placeholder="Search coin" role="combobox" aria-expanded="false" aria-controls="toList" />
            <button class="combo-toggle" type="button" aria-label="Toggle To list">?</button>
            <ul id="toList" class="combo-list" role="listbox"></ul>
          </div>
        </div>

        <div class="field">
          <label for="amountInput">Amount</label>
          <input id="amountInput" type="number" min="0" step="0.00000001" inputmode="decimal" placeholder="0.00" />
        </div>

        <div class="actions">
          <button id="convertBtn" class="primary" type="button">
            <span class="btn-text">Convert</span>
            <span class="spinner" aria-hidden="true"></span>
          </button>
          <button id="copyBtn" class="ghost" type="button">Copy Result</button>
          <button id="favoriteBtn" class="ghost" type="button">Save Pair</button>
        </div>

        <div id="result" class="result">Converted Amount: --</div>
        <div id="status" class="status"></div>

        <div class="chart-card">
          <div class="chart-header">
            <span>Price Trend (24h)</span>
            <span id="trendLabel" class="muted">--</span>
          </div>
          <div id="chart" class="chart"></div>
        </div>
      </section>

      <aside class="card side">
        <div class="panel">
          <h2>Conversion History</h2>
          <ul id="historyList" class="list"></ul>
        </div>
        <div class="panel">
          <h2>Favorite Pairs</h2>
          <ul id="favoriteList" class="list"></ul>
        </div>
      </aside>
    </main>

    <div id="toast" class="toast"></div>
    <div id="offline" class="offline">You are offline. Conversion will resume once you reconnect.</div>

    <script src="https://unpkg.com/lightweight-charts/dist/lightweight-charts.standalone.production.js"></script>
    <script src="/app.js" defer></script>
  </body>
</html>